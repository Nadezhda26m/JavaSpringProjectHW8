# Spring homework 8, 10, 11

## Settings

Maven project

JDK: Amazon Corretto 17 (corretto-17)

Language level: 17 (SDK default)

---

## Описание проекта

Приложение для ресторанного бизнеса.

**Главная страница** приложения: http://localhost:8080/api

Настройки **запуска**: ./.runConfigurations/RunAll.run.xml

**Микросервисы**:

1. config-server - сервер для хранения настроек всех микросервисов (Spring Cloud Config)
2. eureka-server - сервер Eureka для контроля микросервисов (Spring Cloud Netflix - Eureka Server)
3. personnel-service - сервис для работы с персоналом организации
4. storage-service - сервис для работы со складом и продукцией с кухни
5. web-client - клиентское приложение
6. api-gateway - сервис для переадресации запросов от клиентского приложения микросервисам

Подключен **мониторинг** в storage-service и web-client.
Файл настройки Prometheus и фото dashboard Grafana в папке ".monitoring".

Для связи web-client и api-gateway используется RestClient.

Использован Spring Integration в storage-service для фиксации в файле информации о добавленном продукте.

Добавлены профили:

* log - для изменения формата отображения логов в консоли у всех подключенных микросервисов
* eclient - для подключения клиентов eureka к eureka-server
* dev - development, использование БД H2
* prod - production, планируется использовать БД PostgreSQL

---

## Задания

### HW 8

**_Базовое задание:_**

Добавить в один из Ваших проектов, сделанных ранее, ApiGateWay и Eureka.
В проекте обязательно должна быть Spring Data.

**_Задание со звездочкой:_**

В проект так же добавить spring config server
Связь между микросервисами перевести на spring cloud openfeign

### HW 10

**_Базовое задание:_**

1) Подключить к своему проекту зависимости actuator, registry-prometheus и micrometer.
2) Установить и подключить к проекту prometheus
3) Установить и подключить Grafana. В Grafana добавить пару точеу контроля (Например: процессоное время
   приложения и количество запросов)
   Формат сдачи: проект с добавленными зависимостями, файл настройки prometheus и скриншот Grafana с
   добавленными контрольными точками.

**_Задание со звездочкой:_**

* Проделать, то же самое с многомодульным проектом (добавить под контроль несколько модулей)
* Добавить собственную метрику.

### HW 11

**_Задание:_**

1) Добавить в один из проектов, разработанных ранее, spring Integration. Сохранять запросы от пользователя в
   файл.
2) Добавить в проект один из паттернов, разобранных на лекции.